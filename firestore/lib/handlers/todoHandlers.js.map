{"version":3,"file":"todoHandlers.js","names":["_todoRepository","require","getTodoes","ctx","todoes","getAllTodoes","status","body","data","success","e","error","message","createTd","createTodo","request","console","log","remove","id","params","removeTodo","toggle","toggleTodo","completeMultiple","ids","completeMultipleTodoes","removeMultiple","removeMultipleTodoes"],"sources":["../../src/handlers/todoHandlers.js"],"sourcesContent":["import {\r\n  createTodo,\r\n  getAllTodoes,\r\n  removeTodo,\r\n  removeMultipleTodoes,\r\n  toggleTodo,\r\n  completeMultipleTodoes,\r\n} from \"../database/todoRepository\";\r\n\r\nexport async function getTodoes(ctx) {\r\n  try {\r\n    const todoes = await getAllTodoes();\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      data: todoes,\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 500;\r\n    return (ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function createTd(ctx) {\r\n  try {\r\n    await createTodo(ctx.request.body);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data,\r\n    });\r\n  } catch (e) {\r\n    console.log(\"hahaha\");\r\n    ctx.status = ctx.request.body;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function remove(ctx) {\r\n  try {\r\n    const { id } = ctx.params;\r\n    await removeTodo(id);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function toggle(ctx) {\r\n  try {\r\n    const { id } = ctx.request.body;\r\n    await toggleTodo(id);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function completeMultiple(ctx) {\r\n  try {\r\n    const { ids } = ctx.request.body;\r\n    await completeMultipleTodoes(ids);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\nexport async function removeMultiple(ctx) {\r\n  // POST METHOD\r\n  try {\r\n    const { ids } = ctx.request.body;\r\n    await removeMultipleTodoes(ids);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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"}