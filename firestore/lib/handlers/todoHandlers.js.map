{"version":3,"file":"todoHandlers.js","names":["_todoRepository","require","getTodos","ctx","todos","getAllTodos","status","body","data","success","e","error","message","createTd","createTodo","request","remove","id","params","removeTodo","toggle","toggleTodo","completeMultiple","ids","completeMultipleTodos","removeMultiple","removeMultipleTodos","console","log"],"sources":["../../src/handlers/todoHandlers.js"],"sourcesContent":["import {\r\n  createTodo,\r\n  getAllTodos,\r\n  removeTodo,\r\n  removeMultipleTodos,\r\n  toggleTodo,\r\n  completeMultipleTodos,\r\n} from \"../database/todoRepository\";\r\n\r\nexport async function getTodos(ctx) {\r\n  try {\r\n    const todos = await getAllTodos();\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      data: todos,\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 500;\r\n    return (ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function createTd(ctx) {\r\n  try {\r\n    const data = await createTodo(ctx.request.body);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data,\r\n    });\r\n  } catch (e) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function remove(ctx) {\r\n  try {\r\n    const { id } = ctx.params;\r\n    await removeTodo(id);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function toggle(ctx) {\r\n  try {\r\n    const { id } = ctx.request.params;\r\n    await toggleTodo(id);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function completeMultiple(ctx) {\r\n  try {\r\n    const { ids } = ctx.request.body;\r\n    await completeMultipleTodos(ids);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\nexport async function removeMultiple(ctx) {\r\n  try {\r\n    const { ids } = ctx.request.body;\r\n    await removeMultipleTodos(ids);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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"}