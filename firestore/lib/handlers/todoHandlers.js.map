{"version":3,"file":"todoHandlers.js","names":["_todoRepository","require","getTodoes","ctx","todoes","getAllTodoes","status","body","data","success","e","error","message","createTd","createTodo","request","remove","id","params","removeTodo","toggle","toggleTodo","completeMultiple","ids","completeMultipleTodoes","removeMultiple","removeMultipleTodoes"],"sources":["../../src/handlers/todoHandlers.js"],"sourcesContent":["import {\r\n  createTodo,\r\n  getAllTodoes,\r\n  removeTodo,\r\n  removeMultipleTodoes,\r\n  toggleTodo,\r\n  completeMultipleTodoes,\r\n} from \"../database/todoRepository\";\r\n\r\nexport async function getTodoes(ctx) {\r\n  try {\r\n    const todoes = await getAllTodoes();\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      data: todoes,\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 500;\r\n    return (ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function createTd(ctx) {\r\n  try {\r\n    await createTodo(ctx.request.body);\r\n    return (ctx.body = {\r\n      success: true,\r\n      data: ctx.request.body,\r\n    });\r\n  } catch (e) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function remove(ctx) {\r\n  try {\r\n    const { id } = ctx.params;\r\n    await removeTodo(id);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function toggle(ctx) {\r\n  try {\r\n    const { id } = ctx.request.body;\r\n    await toggleTodo(id);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function completeMultiple(ctx) {\r\n  try {\r\n    const { ids } = ctx.request.body;\r\n    await completeMultipleTodoes(ids);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\nexport async function removeMultiple(ctx) {\r\n  // POST METHOD\r\n  try {\r\n    const { ids } = ctx.request.body;\r\n    await removeMultipleTodoes(ids);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (error) {\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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"}