{"version":3,"file":"todoRepository.js","names":["_dbInit","_interopRequireDefault","require","obj","__esModule","default","todoRef","db","collection","getAllTodoes","snapshot","get","docs","map","doc","data","createTodo","id","set","idCompleted","isCompleted","text","removeTodo","delete","toggleTodo","ref","update","removeMultipleTodoes","ids","length","where","console","log","tempTodoes","completeMultipleTodoes","todoes","item","includes"],"sources":["../../src/database/todoRepository.js"],"sourcesContent":["import db from \"./dbInit\";\r\nconst todoRef = db.collection(\"todoes\");\r\nexport async function getAllTodoes() {\r\n  const snapshot = await todoRef.get();\r\n  return snapshot.docs.map((doc) => doc.data());\r\n}\r\n\r\nexport async function createTodo(data) {\r\n  return await todoRef\r\n    .doc(data.id)\r\n    .set({ idCompleted: data.isCompleted, text: data.text });\r\n}\r\n\r\nexport async function removeTodo(id) {\r\n  return await todoRef.doc(id).delete();\r\n}\r\n\r\nexport async function toggleTodo(id) {\r\n  const doc = await todoRef.doc(id).get();\r\n  return await doc.ref.update({\r\n    isCompleted: !doc.data().isCompleted,\r\n  });\r\n}\r\nexport async function removeMultipleTodoes(ids) {\r\n  if (!ids || ids?.length === 0) {\r\n    return;\r\n  }\r\n\r\n  const docs = await todoRef.where(\"id\", \"in\", ids).get();\r\n  // console.log(docs);\r\n  docs.map((doc) => {\r\n    console.log(doc.ref);\r\n    return doc.ref.delete();\r\n  });\r\n  return tempTodoes;\r\n}\r\nexport function completeMultipleTodoes(ids) {\r\n  if (!ids) {\r\n    return;\r\n  }\r\n\r\n  const tempTodoes = [...todoes].map((item) =>\r\n    ids.includes(item.id) ? { ...item, isCompleted: true } : item\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC1B,MAAMG,OAAO,GAAGC,eAAE,CAACC,UAAU,CAAC,QAAQ,CAAC;AAChC,eAAeC,YAAYA,CAAA,EAAG;EACnC,MAAMC,QAAQ,GAAG,MAAMJ,OAAO,CAACK,GAAG,CAAC,CAAC;EACpC,OAAOD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC;AAC/C;AAEO,eAAeC,UAAUA,CAACD,IAAI,EAAE;EACrC,OAAO,MAAMT,OAAO,CACjBQ,GAAG,CAACC,IAAI,CAACE,EAAE,CAAC,CACZC,GAAG,CAAC;IAAEC,WAAW,EAAEJ,IAAI,CAACK,WAAW;IAAEC,IAAI,EAAEN,IAAI,CAACM;EAAK,CAAC,CAAC;AAC5D;AAEO,eAAeC,UAAUA,CAACL,EAAE,EAAE;EACnC,OAAO,MAAMX,OAAO,CAACQ,GAAG,CAACG,EAAE,CAAC,CAACM,MAAM,CAAC,CAAC;AACvC;AAEO,eAAeC,UAAUA,CAACP,EAAE,EAAE;EACnC,MAAMH,GAAG,GAAG,MAAMR,OAAO,CAACQ,GAAG,CAACG,EAAE,CAAC,CAACN,GAAG,CAAC,CAAC;EACvC,OAAO,MAAMG,GAAG,CAACW,GAAG,CAACC,MAAM,CAAC;IAC1BN,WAAW,EAAE,CAACN,GAAG,CAACC,IAAI,CAAC,CAAC,CAACK;EAC3B,CAAC,CAAC;AACJ;AACO,eAAeO,oBAAoBA,CAACC,GAAG,EAAE;EAC9C,IAAI,CAACA,GAAG,IAAIA,GAAG,EAAEC,MAAM,KAAK,CAAC,EAAE;IAC7B;EACF;EAEA,MAAMjB,IAAI,GAAG,MAAMN,OAAO,CAACwB,KAAK,CAAC,IAAI,EAAE,IAAI,EAAEF,GAAG,CAAC,CAACjB,GAAG,CAAC,CAAC;EACvD;EACAC,IAAI,CAACC,GAAG,CAAEC,GAAG,IAAK;IAChBiB,OAAO,CAACC,GAAG,CAAClB,GAAG,CAACW,GAAG,CAAC;IACpB,OAAOX,GAAG,CAACW,GAAG,CAACF,MAAM,CAAC,CAAC;EACzB,CAAC,CAAC;EACF,OAAOU,UAAU;AACnB;AACO,SAASC,sBAAsBA,CAACN,GAAG,EAAE;EAC1C,IAAI,CAACA,GAAG,EAAE;IACR;EACF;EAEA,MAAMK,UAAU,GAAG,CAAC,GAAGE,MAAM,CAAC,CAACtB,GAAG,CAAEuB,IAAI,IACtCR,GAAG,CAACS,QAAQ,CAACD,IAAI,CAACnB,EAAE,CAAC,GAAG;IAAE,GAAGmB,IAAI;IAAEhB,WAAW,EAAE;EAAK,CAAC,GAAGgB,IAC3D,CAAC;AACH"}