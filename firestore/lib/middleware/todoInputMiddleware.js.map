{"version":3,"file":"todoInputMiddleware.js","names":["yup","require","todoInputMiddleware","ctx","next","postData","request","body","schema","object","shape","id","string","required","text","isCompleted","boolean","validate","e","status","success","errors","errorName","name"],"sources":["../../src/middleware/todoInputMiddleware.js"],"sourcesContent":["const yup = require(\"yup\");\r\n\r\nexport default async function todoInputMiddleware(ctx, next) {\r\n  try {\r\n    const postData = ctx.request.body;\r\n    let schema = yup.object().shape({\r\n      id: yup.string().required(),\r\n      text: yup.string().required(),\r\n      isCompleted: yup.boolean().required(),\r\n    });\r\n\r\n    await schema.validate(postData);\r\n    next();\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      errors: e.errors,\r\n      errorName: e.name,\r\n    };\r\n  }\r\n}\r\n"],"mappings":";;;;;;AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAK,CAAC;AAEX,eAAeC,mBAAmBA,CAACC,GAAG,EAAEC,IAAI,EAAE;EAC3D,IAAI;IACF,MAAMC,QAAQ,GAAGF,GAAG,CAACG,OAAO,CAACC,IAAI;IACjC,IAAIC,MAAM,GAAGR,GAAG,CAACS,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC;MAC9BC,EAAE,EAAEX,GAAG,CAACY,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MAC3BC,IAAI,EAAEd,GAAG,CAACY,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MAC7BE,WAAW,EAAEf,GAAG,CAACgB,OAAO,CAAC,CAAC,CAACH,QAAQ,CAAC;IACtC,CAAC,CAAC;IAEF,MAAML,MAAM,CAACS,QAAQ,CAACZ,QAAQ,CAAC;IAC/BD,IAAI,CAAC,CAAC;EACR,CAAC,CAAC,OAAOc,CAAC,EAAE;IACVf,GAAG,CAACgB,MAAM,GAAG,GAAG;IAChBhB,GAAG,CAACI,IAAI,GAAG;MACTa,OAAO,EAAE,KAAK;MACdC,MAAM,EAAEH,CAAC,CAACG,MAAM;MAChBC,SAAS,EAAEJ,CAAC,CAACK;IACf,CAAC;EACH;AACF"}