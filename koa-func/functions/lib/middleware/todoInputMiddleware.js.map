{"version":3,"file":"todoInputMiddleware.js","names":["yup","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","todoInputMiddleware","ctx","next","postData","req","body","schema","object","shape","id","string","text","required","isCompleted","boolean","validate","e","status","success","errors","errorName","name"],"sources":["../../src/middleware/todoInputMiddleware.js"],"sourcesContent":["import * as yup from \"yup\";\r\n\r\nexport default async function todoInputMiddleware(ctx, next) {\r\n  try {\r\n    const postData = ctx.req.body;\r\n    let schema = yup.object().shape({\r\n      id: yup.string(),\r\n      text: yup.string().required(),\r\n      isCompleted: yup.boolean().required(),\r\n    });\r\n\r\n    await schema.validate(postData);\r\n    return next();\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    return (ctx.body = {\r\n      success: false,\r\n      errors: e.errors,\r\n      errorName: e.name,\r\n    });\r\n  }\r\n}\r\n"],"mappings":";;;;;;AAAA,IAAAA,GAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA2B,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEZ,eAAeW,mBAAmBA,CAACC,GAAG,EAAEC,IAAI,EAAE;EAC3D,IAAI;IACF,MAAMC,QAAQ,GAAGF,GAAG,CAACG,GAAG,CAACC,IAAI;IAC7B,IAAIC,MAAM,GAAG/B,GAAG,CAACgC,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC;MAC9BC,EAAE,EAAElC,GAAG,CAACmC,MAAM,CAAC,CAAC;MAChBC,IAAI,EAAEpC,GAAG,CAACmC,MAAM,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC;MAC7BC,WAAW,EAAEtC,GAAG,CAACuC,OAAO,CAAC,CAAC,CAACF,QAAQ,CAAC;IACtC,CAAC,CAAC;IAEF,MAAMN,MAAM,CAACS,QAAQ,CAACZ,QAAQ,CAAC;IAC/B,OAAOD,IAAI,CAAC,CAAC;EACf,CAAC,CAAC,OAAOc,CAAC,EAAE;IACVf,GAAG,CAACgB,MAAM,GAAG,GAAG;IAChB,OAAQhB,GAAG,CAACI,IAAI,GAAG;MACjBa,OAAO,EAAE,KAAK;MACdC,MAAM,EAAEH,CAAC,CAACG,MAAM;MAChBC,SAAS,EAAEJ,CAAC,CAACK;IACf,CAAC;EACH;AACF"}